name: Deployment Pipeline
on:
  push:
    branches:
      - main
      - develop
      - chore/**

jobs:
    node:
        runs-on: ubuntu-20.04
        steps:
            - name: Checkout
              uses: actions/checkout@v2
              with:
                    fetch-depth: 0
            - name: Set up Node.js
              uses: actions/setup-node@v2
              with:
                node-version: '18'
            - name: Check files
              run: "ls -la"
            - name: Install dependencies
              run: "npm install --no-optional --no-audit --no-fund"
            # - name: Upload files
            #   uses: actions/upload-artifact@v2
            #   with:
            #         name: files
            #         path: ./
    lint:
        needs: node
        runs-on: ubuntu-20.04
        steps:
            # - name: Download files
            #   uses: actions/download-artifact@v2
            #   with:
            #         name: files
            #         path: ./
            - name: Lint
              run: "npm run lint --fix ."
    
    